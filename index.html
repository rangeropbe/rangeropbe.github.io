<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Visionaries - Learn Artificial Intelligence</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Add Dashboard Section -->
    <section class="dashboard" id="dashboard">
        <h2>Welcome, <span id="userName"></span></h2>
        <div class="course-progress">
            <h4>Your Courses</h4>
            <div id="enrolledCourses"></div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
        <button class="btn btn-primary" onclick="logout()">Logout</button>
    </section>

    <!-- Enhanced Contact Section -->
    <section class="contact-section">
        <h2>Contact Us</h2>
        <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-instagram"></i> Team Visionaries</a>
            <a href="#" class="social-link"><i class="fab fa-facebook"></i> Team Visionaries</a>
            <a href="https://wa.me/917849201419" class="social-link"><i class="fab fa-whatsapp"></i> +91 7849201419</a>
        </div>
    </section>

    <script>
        // Enhanced Authentication with Local Storage
        let currentUser = JSON.parse(localStorage.getItem('currentUser'));

        document.getElementById('authForm').addEventListener('submit', (e) => {
            e.preventDefault();
            showLoader();
            
            const formData = {
                name: e.target[0].value,
                email: e.target[1].value,
                password: e.target[2].value
            };

            setTimeout(() => {
                hideLoader();
                if(validateForm(formData)) {
                    localStorage.setItem('currentUser', JSON.stringify(formData));
                    localStorage.setItem('courses', JSON.stringify([]));
                    showDashboard(formData);
                    document.getElementById('authModal').style.display = 'none';
                }
            }, 1500);
        });

        // Enhanced Payment Processing
        function processPayment() {
            showLoader();
            setTimeout(() => {
                hideLoader();
                alert('Payment Successful!');
                const courses = JSON.parse(localStorage.getItem('courses')) || [];
                courses.push(selectedCourse);
                localStorage.setItem('courses', JSON.stringify(courses));
                window.location.href = `course_${selectedCourse.course.toLowerCase().replace(/ /g, '_')}.html`;
            }, 2000);
        }

        // Course Progress Tracking
        function updateProgress() {
            const progress = document.querySelectorAll('.progress-fill');
            progress.forEach(p => {
                p.style.width = `${Math.floor(Math.random() * 100)}%`;
            });
        }

        // Enhanced Chatbot
        const chatbot = {
            init: function() {
                this.toggle = document.getElementById('chatbot');
                this.messages = [];
                this.setupEvents();
            },
            
            setupEvents: function() {
                document.addEventListener('click', (e) => {
                    if(e.target.matches('.chat-input button')) {
                        this.sendMessage();
                    }
                });
            },
            
            sendMessage: function() {
                const input = document.querySelector('.chat-input input');
                this.addMessage(input.value, 'user');
                this.generateResponse(input.value);
                input.value = '';
            },
            
            addMessage: function(text, sender) {
                const message = document.createElement('div');
                message.className = `message ${sender}`;
                message.textContent = text;
                document.querySelector('.chat-messages').appendChild(message);
            },
            
            generateResponse: function(text) {
                const responses = {
                    'help': 'How can I assist you today?',
                    'support': 'Our support team will contact you shortly.',
                    'default': 'Thank you for your message. We'll get back to you soon.'
                };
                
                const response = responses[text.toLowerCase()] || responses['default'];
                setTimeout(() => this.addMessage(response, 'bot'), 1000);
            }
        };

        // Utility Functions
        function showLoader() {
            document.querySelectorAll('.loader').forEach(l => l.style.display = 'block');
        }

        function hideLoader() {
            document.querySelectorAll('.loader').forEach(l => l.style.display = 'none');
        }

        function validateForm(data) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if(!emailRegex.test(data.email)) {
                showError('Please enter a valid email address');
                return false;
            }
            if(data.password.length < 6) {
                showError('Password must be at least 6 characters');
                return false;
            }
            return true;
        }

        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            document.getElementById('authForm').appendChild(errorDiv);
            setTimeout(() => errorDiv.remove(), 3000);
        }

        // Initialize Chatbot
        chatbot.init();
    </script>
</body>
</html>
